<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mealmaker.babiyo.favorite">

<resultMap type="favoriteDto" id="favoriteResultMap">
<result column="MEMBER_ID" property="memberId"/>
<result column="PRODUCT_NO" property="productNo"/>
<result column="NAME" property="productName"/>
<result column="PRICE" property="productPrice"/>
</resultMap>

<select id="favoriteList" parameterType="String" resultMap="favoriteResultMap">
SELECT F.MEMBER_ID, F.PRODUCT_NO, P.NAME, P.PRICE
FROM FAVORITE F JOIN PRODUCT P
ON F.PRODUCT_NO = P.NO
WHERE MEMBER_ID = #{value}
</select>

<delete id="favoriteDelete" parameterType="favoriteDto">
DELETE FAVORITE
WHERE MEMBER_ID = #{memberId}
AND PRODUCT_NO = ${productNo}
</delete>

<insert id="favoriteAdd" parameterType="favoriteDto">
INSERT INTO FAVORITE(MEMBER_ID, PRODUCT_NO)
VALUES(#{memberId}, #{productNo})
</insert>

</mapper>