<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mealmaker.babiyo.inquiry">

<resultMap type="inquiryDto" id="inquiryResultMap">
<id column="NO" property="no"/>
<result column="MEMBER_ID" property="memberId"/>
<result column="CATEGORY_CODE" property="categoryCode"/>
<result column="TITLE" property="title"/>
<result column="CONTENT" property="content"/>
<result column="ANSWER" property="answer"/>
<result column="CREATE_DATE" property="createDate"/>
<result column="CODE" property="code"/>
<result column="NAME" property="name"/>
</resultMap>

<select id="inquirytList" resultMap="inquiryResultMap">
	SELECT NO, CATEGORY_CODE, TITLE, CREATE_DATE
	FROM INQUIRY
	ORDER BY NO DESC
</select>

<select id="inquirySelectOne" parameterType="int"
	resultMap="inquiryResultMap">
	SELECT NO, MEMBER_ID, CATEGORY_CODE, TITLE, CONTENT, ANSWER, CREATE_DATE
	FROM INQUIRY
	WHERE NO = #{no}
</select>

<insert id="inquiryWrite" parameterType="inquiryDto">
<selectKey keyProperty="no" resultType="int" order="AFTER">
	SELECT SEQ_INQUIRY_NO.CURRVAL
	FROM DUAL
</selectKey>
	INSERT INTO INQUIRY
	VALUE(MEMBER_ID, CATEGORY_CODE, TITLE, CONTENT, CREATE_DATE)
	VALUES(#{memberId} ,#{categoryCode} , #{title}, #{content}, SYSDATE)	
</insert>

<delete id="inquirDeleteOne" parameterType="int">
	DELETE FROM INQUIRY
	WHERE NO = #{value}
</delete>

</mapper>