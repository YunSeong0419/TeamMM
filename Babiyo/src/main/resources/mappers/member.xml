<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mealmaker.babiyo.member">
<!-- <select id="selectMember" resultType="String"> -->
<!-- SELECT ID -->
<!-- FROM MEMBER -->
<!-- WHERE ID = '' -->
<!-- </select> -->

	<resultMap type="memberDto" id="memberResultMap">
		<id column="ID" property="id"/>
		<result column="PASSWORD" property="password"/>
		<result column="NAME" property="name"/>
		<result column="EMAIL" property="email"/>
		<result column="BIRTHDAY" property="birthDate"
			javaType="java.util.Date"/>
		<result column="GENDER" property="gender"/>
		<result column="PHONE" property="phone"/>
		<result column="CASH" property="cash"/>
		<result column="GRADE_CODE" property="grade"/>
		<result column="CREATE_DATE" property="createDate"
			javaType="java.util.Date"/>
		<result column="MODIFY_DATE" property="modifyDate"
			javaType="java.util.Date"/>
	</resultMap>
	
	<select id="memberExist" parameterType="map" 
		resultMap="memberResultMap">
		SELECT ID, NAME, EMAIL, BIRTHDAY, GENDER, PHONE, NICKNAME
		, CASH
		FROM MEMBER
		WHERE ID = #{id} AND PASSWORD = #{password}
	</select>

<insert id="memberInsertOne" 
		parameterType="com.mealmaker.babiyo.member.model.MemberDto">
		
		INSERT INTO MEMBER
		(ID, PASSWORD, NAME, EMAIL, BIRTHDAY, GENDER, PHONE, NICKNAME, CASH
		, GRADE_CODE, CREATE_DATE, MODIFY_DATE)
		VALUES(#{id}, #{password}, #{name}, #{email}, TO_DATE(#{birthDate})
		    , #{gender}, #{phone}, #{nickname}, 0, 2, SYSDATE, SYSDATE);
	</insert>

</mapper>